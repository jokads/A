{"version":3,"file":"page-DTfVFaH-.js","sources":["../../src/pages/profile/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useTheme } from '../../contexts/ThemeContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '../../lib/supabase';\r\n\r\ninterface UserProfile {\r\n  id: string;\r\n  full_name: string;\r\n  avatar_url: string;\r\n  phone: string;\r\n  address: string;\r\n  city: string;\r\n  country: string;\r\n  postal_code: string;\r\n  bio: string;\r\n  role: string;\r\n  created_at: string;\r\n}\r\n\r\ninterface Order {\r\n  id: string;\r\n  order_number: string;\r\n  total: number;\r\n  status: string;\r\n  created_at: string;\r\n  items: any[];\r\n}\r\n\r\ninterface Wishlist {\r\n  id: string;\r\n  product: {\r\n    id: string;\r\n    name: string;\r\n    price: number;\r\n    image_url: string;\r\n  };\r\n}\r\n\r\nexport default function ProfilePage() {\r\n  const { user, signOut } = useAuth();\r\n  const { darkMode } = useTheme();\r\n  const navigate = useNavigate();\r\n  \r\n  const [activeTab, setActiveTab] = useState('profile');\r\n  const [profile, setProfile] = useState<UserProfile | null>(null);\r\n  const [orders, setOrders] = useState<Order[]>([]);\r\n  const [wishlist, setWishlist] = useState<Wishlist[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\r\n\r\n  // Form states\r\n  const [formData, setFormData] = useState({\r\n    full_name: '',\r\n    phone: '',\r\n    address: '',\r\n    city: '',\r\n    country: '',\r\n    postal_code: '',\r\n    bio: ''\r\n  });\r\n\r\n  const [passwordData, setPasswordData] = useState({\r\n    current: '',\r\n    new: '',\r\n    confirm: ''\r\n  });\r\n\r\n  const [avatarFile, setAvatarFile] = useState<File | null>(null);\r\n  const [avatarPreview, setAvatarPreview] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    fetchUserData();\r\n  }, [user, navigate]);\r\n\r\n  const fetchUserData = async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      // Buscar perfil com role atualizado\r\n      const { data: profileData, error: profileError } = await supabase\r\n        .from('profiles')\r\n        .select('*')\r\n        .eq('id', user!.id)\r\n        .single();\r\n\r\n      if (profileError) throw profileError;\r\n\r\n      setProfile(profileData);\r\n      setFormData({\r\n        full_name: profileData.full_name || '',\r\n        phone: profileData.phone || '',\r\n        address: profileData.address || '',\r\n        city: profileData.city || '',\r\n        country: profileData.country || '',\r\n        postal_code: profileData.postal_code || '',\r\n        bio: profileData.bio || ''\r\n      });\r\n\r\n      // Buscar pedidos\r\n      const { data: ordersData, error: ordersError } = await supabase\r\n        .from('orders')\r\n        .select(`\r\n          id,\r\n          order_number,\r\n          total,\r\n          status,\r\n          created_at,\r\n          order_items (\r\n            id,\r\n            quantity,\r\n            price,\r\n            product_id\r\n          )\r\n        `)\r\n        .eq('user_id', user!.id)\r\n        .order('created_at', { ascending: false })\r\n        .limit(10);\r\n\r\n      if (!ordersError && ordersData) {\r\n        setOrders(ordersData);\r\n      }\r\n\r\n      // Buscar lista de desejos\r\n      const { data: wishlistData, error: wishlistError } = await supabase\r\n        .from('wishlist')\r\n        .select(`\r\n          id,\r\n          products (\r\n            id,\r\n            name,\r\n            price,\r\n            images\r\n          )\r\n        `)\r\n        .eq('user_id', user!.id);\r\n\r\n      if (!wishlistError && wishlistData) {\r\n        setWishlist(wishlistData.map((item: any) => ({\r\n          id: item.id,\r\n          product: {\r\n            id: item.products.id,\r\n            name: item.products.name,\r\n            price: item.products.price,\r\n            image_url: item.products.images?.[0] || ''\r\n          }\r\n        })));\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Erro ao carregar dados:', error);\r\n      setMessage({ type: 'error', text: 'Erro ao carregar dados do perfil' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAvatarChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setAvatarFile(file);\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setAvatarPreview(reader.result as string);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const uploadAvatar = async () => {\r\n    if (!avatarFile || !user) return null;\r\n\r\n    try {\r\n      const fileExt = avatarFile.name.split('.').pop();\r\n      const fileName = `${user.id}-${Date.now()}.${fileExt}`;\r\n      const filePath = `avatars/${fileName}`;\r\n\r\n      const { error: uploadError } = await supabase.storage\r\n        .from('public')\r\n        .upload(filePath, avatarFile);\r\n\r\n      if (uploadError) throw uploadError;\r\n\r\n      const { data } = supabase.storage\r\n        .from('public')\r\n        .getPublicUrl(filePath);\r\n\r\n      return data.publicUrl;\r\n    } catch (error) {\r\n      console.error('Erro ao fazer upload da imagem:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSaveProfile = async () => {\r\n    try {\r\n      setSaving(true);\r\n      setMessage(null);\r\n\r\n      let avatar_url = profile?.avatar_url;\r\n\r\n      // Upload do avatar se houver\r\n      if (avatarFile) {\r\n        const uploadedUrl = await uploadAvatar();\r\n        if (uploadedUrl) {\r\n          avatar_url = uploadedUrl;\r\n        }\r\n      }\r\n\r\n      // Atualizar perfil\r\n      const { error } = await supabase\r\n        .from('profiles')\r\n        .update({\r\n          ...formData,\r\n          avatar_url,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', user!.id);\r\n\r\n      if (error) throw error;\r\n\r\n      setMessage({ type: 'success', text: 'Perfil atualizado com sucesso!' });\r\n      setAvatarFile(null);\r\n      setAvatarPreview(null);\r\n      await fetchUserData();\r\n\r\n    } catch (error) {\r\n      console.error('Erro ao salvar perfil:', error);\r\n      setMessage({ type: 'error', text: 'Erro ao salvar perfil' });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleChangePassword = async () => {\r\n    try {\r\n      if (passwordData.new !== passwordData.confirm) {\r\n        setMessage({ type: 'error', text: 'As senhas não coincidem' });\r\n        return;\r\n      }\r\n\r\n      if (passwordData.new.length < 6) {\r\n        setMessage({ type: 'error', text: 'A senha deve ter no mínimo 6 caracteres' });\r\n        return;\r\n      }\r\n\r\n      setSaving(true);\r\n      setMessage(null);\r\n\r\n      const { error } = await supabase.auth.updateUser({\r\n        password: passwordData.new\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      setMessage({ type: 'success', text: 'Senha alterada com sucesso!' });\r\n      setPasswordData({ current: '', new: '', confirm: '' });\r\n\r\n    } catch (error: any) {\r\n      console.error('Erro ao alterar senha:', error);\r\n      setMessage({ type: 'error', text: error.message || 'Erro ao alterar senha' });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleRemoveFromWishlist = async (wishlistId: string) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('wishlist')\r\n        .delete()\r\n        .eq('id', wishlistId);\r\n\r\n      if (error) throw error;\r\n\r\n      setWishlist(wishlist.filter(item => item.id !== wishlistId));\r\n      setMessage({ type: 'success', text: 'Produto removido da lista de desejos' });\r\n    } catch (error) {\r\n      console.error('Erro ao remover produto:', error);\r\n      setMessage({ type: 'error', text: 'Erro ao remover produto' });\r\n    }\r\n  };\r\n\r\n  const getRoleLabel = (role: string) => {\r\n    switch (role) {\r\n      case 'admin':\r\n        return 'Administrador';\r\n      case 'customer':\r\n        return 'Cliente';\r\n      default:\r\n        return 'Utilizador';\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'completed':\r\n        return 'bg-green-500';\r\n      case 'processing':\r\n        return 'bg-blue-500';\r\n      case 'pending':\r\n        return 'bg-yellow-500';\r\n      case 'cancelled':\r\n        return 'bg-red-500';\r\n      default:\r\n        return 'bg-gray-500';\r\n    }\r\n  };\r\n\r\n  const getStatusLabel = (status: string) => {\r\n    switch (status) {\r\n      case 'completed':\r\n        return 'Concluído';\r\n      case 'processing':\r\n        return 'Em Processamento';\r\n      case 'pending':\r\n        return 'Pendente';\r\n      case 'cancelled':\r\n        return 'Cancelado';\r\n      default:\r\n        return status;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`min-h-screen ${darkMode ? 'bg-[#0b0011]' : 'bg-gray-50'} flex items-center justify-center`}>\r\n        <div className=\"w-16 h-16 border-4 border-[#b62bff] border-t-transparent rounded-full animate-spin\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen ${darkMode ? 'bg-[#0b0011]' : 'bg-gray-50'}`}>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header do Perfil */}\r\n        <div className={`rounded-xl p-8 mb-8 ${darkMode ? 'bg-surface border border-gray-800' : 'bg-white border border-gray-200'}`}>\r\n          <div className=\"flex flex-col md:flex-row items-center gap-6\">\r\n            <div className=\"relative\">\r\n              <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-[#b62bff] to-[#ff6a00] flex items-center justify-center text-white text-4xl font-bold\">\r\n                {profile?.avatar_url ? (\r\n                  <img src={profile.avatar_url} alt=\"Avatar\" className=\"w-full h-full rounded-full object-cover\" />\r\n                ) : (\r\n                  profile?.full_name?.charAt(0) || user?.email?.charAt(0) || '?'\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex-1 text-center md:text-left\">\r\n              <h1 className={`text-3xl font-bold mb-2 ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                {profile?.full_name || 'Sem nome'}\r\n              </h1>\r\n              <p className={`text-lg mb-3 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                {user?.email}\r\n              </p>\r\n              <div className=\"flex flex-wrap items-center gap-3 justify-center md:justify-start\">\r\n                <span className=\"px-4 py-2 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white text-sm font-medium rounded-full\">\r\n                  {getRoleLabel(profile?.role || 'customer')}\r\n                </span>\r\n                <span className={`px-4 py-2 ${darkMode ? 'bg-gray-800 text-gray-300' : 'bg-gray-100 text-gray-700'} text-sm font-medium rounded-full`}>\r\n                  Membro desde {new Date(profile?.created_at || Date.now()).getFullYear()}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Message */}\r\n        {message && (\r\n          <div className={`mb-6 p-4 rounded-lg ${\r\n            message.type === 'success' \r\n              ? 'bg-green-500/20 border border-green-500/50' \r\n              : 'bg-red-500/20 border border-red-500/50'\r\n          }`}>\r\n            <p className={message.type === 'success' ? 'text-green-500' : 'text-red-500'}>\r\n              {message.text}\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex flex-wrap gap-2 mb-8\">\r\n          {[\r\n            { id: 'profile', icon: 'ri-user-settings-line', label: 'Perfil' },\r\n            { id: 'orders', icon: 'ri-file-list-line', label: 'Pedidos' },\r\n            { id: 'wishlist', icon: 'ri-heart-line', label: 'Lista de Desejos' },\r\n            { id: 'security', icon: 'ri-shield-check-line', label: 'Segurança' }\r\n          ].map(tab => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              className={`px-6 py-3 rounded-lg font-medium transition-all ${\r\n                activeTab === tab.id\r\n                  ? 'bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white shadow-lg'\r\n                  : darkMode\r\n                  ? 'bg-gray-900 text-gray-300 hover:bg-gray-800'\r\n                  : 'bg-white text-gray-700 hover:bg-gray-100'\r\n              }`}\r\n            >\r\n              <i className={`${tab.icon} mr-2`}></i>\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className={`${darkMode ? 'bg-gray-900' : 'bg-white'} rounded-2xl shadow-xl p-8`}>\r\n          {/* Profile Tab */}\r\n          {activeTab === 'profile' && (\r\n            <div className=\"space-y-6\">\r\n              <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'} mb-6`}>\r\n                Informações Pessoais\r\n              </h2>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div>\r\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\r\n                    Nome Completo\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.full_name}\r\n                    onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\r\n                    className={`w-full px-4 py-3 rounded-lg ${\r\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\r\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\r\n                    Telefone\r\n                  </label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={formData.phone}\r\n                    onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n                    className={`w-full px-4 py-3 rounded-lg ${\r\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\r\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"md:col-span-2\">\r\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\r\n                    Morada\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.address}\r\n                    onChange={(e) => setFormData({ ...formData, address: e.target.value })}\r\n                    className={`w-full px-4 py-3 rounded-lg ${\r\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\r\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\r\n                    Cidade\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.city}\r\n                    onChange={(e) => setFormData({ ...formData, city: e.target.value })}\r\n                    className={`w-full px-4 py-3 rounded-lg ${\r\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\r\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\r\n                    País\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.country}\r\n                    onChange={(e) => setFormData({ ...formData, country: e.target.value })}\r\n                    className={`w-full px-4 py-3 rounded-lg ${\r\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\r\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\r\n                    Código Postal\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.postal_code}\r\n                    onChange={(e) => setFormData({ ...formData, postal_code: e.target.value })}\r\n                    className={`w-full px-4 py-3 rounded-lg ${\r\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\r\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"md:col-span-2\">\r\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\r\n                    Bio\r\n                  </label>\r\n                  <textarea\r\n                    value={formData.bio}\r\n                    onChange={(e) => setFormData({ ...formData, bio: e.target.value })}\r\n                    rows={4}\r\n                    className={`w-full px-4 py-3 rounded-lg ${\r\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\r\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors resize-none`}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end gap-4 pt-6 border-t border-gray-700\">\r\n                <button\r\n                  onClick={() => navigate(-1)}\r\n                  className={`px-6 py-3 rounded-lg font-medium ${\r\n                    darkMode ? 'bg-gray-800 text-white hover:bg-gray-700' : 'bg-gray-100 text-gray-900 hover:bg-gray-200'\r\n                  } transition-colors`}\r\n                >\r\n                  Cancelar\r\n                </button>\r\n                <button\r\n                  onClick={handleSaveProfile}\r\n                  disabled={saving}\r\n                  className=\"px-6 py-3 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white font-medium rounded-lg hover:shadow-lg transition-all disabled:opacity-50\"\r\n                >\r\n                  {saving ? 'A guardar...' : 'Guardar Alterações'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Orders Tab */}\r\n          {activeTab === 'orders' && (\r\n            <div className=\"space-y-6\">\r\n              <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'} mb-6`}>\r\n                Meus Pedidos\r\n              </h2>\r\n\r\n              {orders.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <i className=\"ri-file-list-line text-6xl text-gray-500 mb-4\"></i>\r\n                  <p className=\"text-gray-500 text-lg\">Ainda não tem pedidos</p>\r\n                  <button\r\n                    onClick={() => navigate('/category')}\r\n                    className=\"mt-6 px-6 py-3 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white font-medium rounded-lg hover:shadow-lg transition-all\"\r\n                  >\r\n                    Começar a Comprar\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {orders.map(order => (\r\n                    <div\r\n                      key={order.id}\r\n                      className={`p-6 rounded-lg border ${\r\n                        darkMode ? 'bg-gray-800 border-gray-700' : 'bg-gray-50 border-gray-200'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4\">\r\n                        <div>\r\n                          <h3 className={`text-lg font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                            Pedido #{order.order_number}\r\n                          </h3>\r\n                          <p className=\"text-sm text-gray-500\">\r\n                            {new Date(order.created_at).toLocaleDateString('pt-PT', {\r\n                              day: '2-digit',\r\n                              month: 'long',\r\n                              year: 'numeric'\r\n                            })}\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-4\">\r\n                          <span className={`px-4 py-2 ${getStatusColor(order.status)} text-white text-sm font-medium rounded-lg`}>\r\n                            {getStatusLabel(order.status)}\r\n                          </span>\r\n                          <span className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                            €{order.total.toFixed(2)}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2 text-sm text-gray-500\">\r\n                        <i className=\"ri-shopping-bag-line\"></i>\r\n                        <span>{order.items?.length || 0} {order.items?.length === 1 ? 'item' : 'itens'}</span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Wishlist Tab */}\r\n          {activeTab === 'wishlist' && (\r\n            <div className=\"space-y-6\">\r\n              <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'} mb-6`}>\r\n                Lista de Desejos\r\n              </h2>\r\n\r\n              {wishlist.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <i className=\"ri-heart-line text-6xl text-gray-500 mb-4\"></i>\r\n                  <p className=\"text-gray-500 text-lg\">Sua lista de desejos está vazia</p>\r\n                  <button\r\n                    onClick={() => navigate('/category')}\r\n                    className=\"mt-6 px-6 py-3 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white font-medium rounded-lg hover:shadow-lg transition-all\"\r\n                  >\r\n                    Explorar Produtos\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                  {wishlist.map(item => (\r\n                    <div\r\n                      key={item.id}\r\n                      className={`rounded-lg border ${\r\n                        darkMode ? 'bg-gray-800 border-gray-700' : 'bg-gray-50 border-gray-200'\r\n                      } overflow-hidden`}\r\n                    >\r\n                      <div className=\"aspect-square bg-gray-700 overflow-hidden\">\r\n                        <img\r\n                          src={item.product.image_url || 'https://via.placeholder.com/400'}\r\n                          alt={item.product.name}\r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"p-4\">\r\n                        <h3 className={`font-bold mb-2 ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                          {item.product.name}\r\n                        </h3>\r\n                        <p className=\"text-2xl font-bold text-[#b62bff] mb-4\">\r\n                          €{item.product.price.toFixed(2)}\r\n                        </p>\r\n                        <div className=\"flex gap-2\">\r\n                          <button\r\n                            onClick={() => navigate(`/product/${item.product.id}`)}\r\n                            className=\"flex-1 px-4 py-2 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white font-medium rounded-lg hover:shadow-lg transition-all\"\r\n                          >\r\n                            Ver Produto\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleRemoveFromWishlist(item.id)}\r\n                            className={`px-4 py-2 rounded-lg ${\r\n                              darkMode ? 'bg-gray-700 hover:bg-red-900/20 text-red-400' : 'bg-gray-200 hover:bg-red-50 text-red-600'\r\n                            } transition-colors`}\r\n                          >\r\n                            <i className=\"ri-delete-bin-line\"></i>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Security Tab */}\r\n          {activeTab === 'security' && (\r\n            <div className=\"space-y-6\">\r\n              <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'} mb-6`}>\r\n                Segurança\r\n              </h2>\r\n\r\n              <div className=\"max-w-2xl space-y-6\">\r\n                <div>\r\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\r\n                    Senha Atual\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    value={passwordData.current}\r\n                    onChange={(e) => setPasswordData({ ...passwordData, current: e.target.value })}\r\n                    className={`w-full px-4 py-3 rounded-lg ${\r\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\r\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\r\n                    Nova Senha\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    value={passwordData.new}\r\n                    onChange={(e) => setPasswordData({ ...passwordData, new: e.target.value })}\r\n                    className={`w-full px-4 py-3 rounded-lg ${\r\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\r\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\r\n                    Confirmar Nova Senha\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    value={passwordData.confirm}\r\n                    onChange={(e) => setPasswordData({ ...passwordData, confirm: e.target.value })}\r\n                    className={`w-full px-4 py-3 rounded-lg ${\r\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\r\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex justify-end gap-4 pt-6 border-t border-gray-700\">\r\n                  <button\r\n                    onClick={() => setPasswordData({ current: '', new: '', confirm: '' })}\r\n                    className={`px-6 py-3 rounded-lg font-medium ${\r\n                      darkMode ? 'bg-gray-800 text-white hover:bg-gray-700' : 'bg-gray-100 text-gray-900 hover:bg-gray-200'\r\n                    } transition-colors`}\r\n                  >\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    onClick={handleChangePassword}\r\n                    disabled={saving || !passwordData.new || !passwordData.confirm}\r\n                    className=\"px-6 py-3 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white font-medium rounded-lg hover:shadow-lg transition-all disabled:opacity-50\"\r\n                  >\r\n                    {saving ? 'A alterar...' : 'Alterar Senha'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ProfilePage","user","signOut","useAuth","darkMode","useTheme","navigate","useNavigate","activeTab","setActiveTab","useState","profile","setProfile","orders","setOrders","wishlist","setWishlist","loading","setLoading","saving","setSaving","message","setMessage","formData","setFormData","passwordData","setPasswordData","avatarFile","setAvatarFile","avatarPreview","setAvatarPreview","useEffect","fetchUserData","profileData","profileError","supabase","ordersData","ordersError","wishlistData","wishlistError","item","error","uploadAvatar","fileExt","filePath","uploadError","data","handleSaveProfile","avatar_url","uploadedUrl","handleChangePassword","handleRemoveFromWishlist","wishlistId","getRoleLabel","role","getStatusColor","status","getStatusLabel","jsx","jsxs","tab","e","order"],"mappings":"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"}