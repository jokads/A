{"version":3,"file":"page-CFwTDfIY.js","sources":["../../src/pages/profile/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useTheme } from '../../contexts/ThemeContext';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '../../lib/supabase';\n\ninterface UserProfile {\n  id: string;\n  full_name: string;\n  avatar_url: string;\n  phone: string;\n  address: string;\n  city: string;\n  country: string;\n  postal_code: string;\n  bio: string;\n  role: string;\n  created_at: string;\n}\n\ninterface Order {\n  id: string;\n  order_number: string;\n  total: number;\n  status: string;\n  created_at: string;\n  items: any[];\n}\n\ninterface Wishlist {\n  id: string;\n  product: {\n    id: string;\n    name: string;\n    price: number;\n    image_url: string;\n  };\n}\n\nexport default function ProfilePage() {\n  const { user, signOut } = useAuth();\n  const { darkMode } = useTheme();\n  const navigate = useNavigate();\n  \n  const [activeTab, setActiveTab] = useState('profile');\n  const [profile, setProfile] = useState<UserProfile | null>(null);\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [wishlist, setWishlist] = useState<Wishlist[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n\n  // Form states\n  const [formData, setFormData] = useState({\n    full_name: '',\n    phone: '',\n    address: '',\n    city: '',\n    country: '',\n    postal_code: '',\n    bio: ''\n  });\n\n  const [passwordData, setPasswordData] = useState({\n    current: '',\n    new: '',\n    confirm: ''\n  });\n\n  const [avatarFile, setAvatarFile] = useState<File | null>(null);\n  const [avatarPreview, setAvatarPreview] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n\n    fetchUserData();\n  }, [user, navigate]);\n\n  const fetchUserData = async () => {\n    try {\n      setLoading(true);\n\n      // Buscar perfil com role atualizado\n      const { data: profileData, error: profileError } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', user!.id)\n        .single();\n\n      if (profileError) throw profileError;\n\n      setProfile(profileData);\n      setFormData({\n        full_name: profileData.full_name || '',\n        phone: profileData.phone || '',\n        address: profileData.address || '',\n        city: profileData.city || '',\n        country: profileData.country || '',\n        postal_code: profileData.postal_code || '',\n        bio: profileData.bio || ''\n      });\n\n      // Buscar pedidos\n      const { data: ordersData, error: ordersError } = await supabase\n        .from('orders')\n        .select(`\n          id,\n          order_number,\n          total,\n          status,\n          created_at,\n          order_items (\n            id,\n            quantity,\n            price,\n            product_id\n          )\n        `)\n        .eq('user_id', user!.id)\n        .order('created_at', { ascending: false })\n        .limit(10);\n\n      if (!ordersError && ordersData) {\n        setOrders(ordersData);\n      }\n\n      // Buscar lista de desejos\n      const { data: wishlistData, error: wishlistError } = await supabase\n        .from('wishlist')\n        .select(`\n          id,\n          products (\n            id,\n            name,\n            price,\n            images\n          )\n        `)\n        .eq('user_id', user!.id);\n\n      if (!wishlistError && wishlistData) {\n        setWishlist(wishlistData.map((item: any) => ({\n          id: item.id,\n          product: {\n            id: item.products.id,\n            name: item.products.name,\n            price: item.products.price,\n            image_url: item.products.images?.[0] || ''\n          }\n        })));\n      }\n\n    } catch (error) {\n      console.error('Erro ao carregar dados:', error);\n      setMessage({ type: 'error', text: 'Erro ao carregar dados do perfil' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAvatarChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setAvatarFile(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setAvatarPreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const uploadAvatar = async () => {\n    if (!avatarFile || !user) return null;\n\n    try {\n      const fileExt = avatarFile.name.split('.').pop();\n      const fileName = `${user.id}-${Date.now()}.${fileExt}`;\n      const filePath = `avatars/${fileName}`;\n\n      const { error: uploadError } = await supabase.storage\n        .from('public')\n        .upload(filePath, avatarFile);\n\n      if (uploadError) throw uploadError;\n\n      const { data } = supabase.storage\n        .from('public')\n        .getPublicUrl(filePath);\n\n      return data.publicUrl;\n    } catch (error) {\n      console.error('Erro ao fazer upload da imagem:', error);\n      return null;\n    }\n  };\n\n  const handleSaveProfile = async () => {\n    try {\n      setSaving(true);\n      setMessage(null);\n\n      let avatar_url = profile?.avatar_url;\n\n      // Upload do avatar se houver\n      if (avatarFile) {\n        const uploadedUrl = await uploadAvatar();\n        if (uploadedUrl) {\n          avatar_url = uploadedUrl;\n        }\n      }\n\n      // Atualizar perfil\n      const { error } = await supabase\n        .from('profiles')\n        .update({\n          ...formData,\n          avatar_url,\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', user!.id);\n\n      if (error) throw error;\n\n      setMessage({ type: 'success', text: 'Perfil atualizado com sucesso!' });\n      setAvatarFile(null);\n      setAvatarPreview(null);\n      await fetchUserData();\n\n    } catch (error) {\n      console.error('Erro ao salvar perfil:', error);\n      setMessage({ type: 'error', text: 'Erro ao salvar perfil' });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleChangePassword = async () => {\n    try {\n      if (passwordData.new !== passwordData.confirm) {\n        setMessage({ type: 'error', text: 'As senhas não coincidem' });\n        return;\n      }\n\n      if (passwordData.new.length < 6) {\n        setMessage({ type: 'error', text: 'A senha deve ter no mínimo 6 caracteres' });\n        return;\n      }\n\n      setSaving(true);\n      setMessage(null);\n\n      const { error } = await supabase.auth.updateUser({\n        password: passwordData.new\n      });\n\n      if (error) throw error;\n\n      setMessage({ type: 'success', text: 'Senha alterada com sucesso!' });\n      setPasswordData({ current: '', new: '', confirm: '' });\n\n    } catch (error: any) {\n      console.error('Erro ao alterar senha:', error);\n      setMessage({ type: 'error', text: error.message || 'Erro ao alterar senha' });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleRemoveFromWishlist = async (wishlistId: string) => {\n    try {\n      const { error } = await supabase\n        .from('wishlist')\n        .delete()\n        .eq('id', wishlistId);\n\n      if (error) throw error;\n\n      setWishlist(wishlist.filter(item => item.id !== wishlistId));\n      setMessage({ type: 'success', text: 'Produto removido da lista de desejos' });\n    } catch (error) {\n      console.error('Erro ao remover produto:', error);\n      setMessage({ type: 'error', text: 'Erro ao remover produto' });\n    }\n  };\n\n  const getRoleLabel = (role: string) => {\n    switch (role) {\n      case 'admin':\n        return 'Administrador';\n      case 'customer':\n        return 'Cliente';\n      default:\n        return 'Utilizador';\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'completed':\n        return 'bg-green-500';\n      case 'processing':\n        return 'bg-blue-500';\n      case 'pending':\n        return 'bg-yellow-500';\n      case 'cancelled':\n        return 'bg-red-500';\n      default:\n        return 'bg-gray-500';\n    }\n  };\n\n  const getStatusLabel = (status: string) => {\n    switch (status) {\n      case 'completed':\n        return 'Concluído';\n      case 'processing':\n        return 'Em Processamento';\n      case 'pending':\n        return 'Pendente';\n      case 'cancelled':\n        return 'Cancelado';\n      default:\n        return status;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className={`min-h-screen ${darkMode ? 'bg-[#0b0011]' : 'bg-gray-50'} flex items-center justify-center`}>\n        <div className=\"w-16 h-16 border-4 border-[#b62bff] border-t-transparent rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`min-h-screen ${darkMode ? 'bg-[#0b0011]' : 'bg-gray-50'}`}>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header do Perfil */}\n        <div className={`rounded-xl p-8 mb-8 ${darkMode ? 'bg-surface border border-gray-800' : 'bg-white border border-gray-200'}`}>\n          <div className=\"flex flex-col md:flex-row items-center gap-6\">\n            <div className=\"relative\">\n              <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-[#b62bff] to-[#ff6a00] flex items-center justify-center text-white text-4xl font-bold\">\n                {profile?.avatar_url ? (\n                  <img src={profile.avatar_url} alt=\"Avatar\" className=\"w-full h-full rounded-full object-cover\" />\n                ) : (\n                  profile?.full_name?.charAt(0) || user?.email?.charAt(0) || '?'\n                )}\n              </div>\n            </div>\n            <div className=\"flex-1 text-center md:text-left\">\n              <h1 className={`text-3xl font-bold mb-2 ${darkMode ? 'text-white' : 'text-gray-900'}`}>\n                {profile?.full_name || 'Sem nome'}\n              </h1>\n              <p className={`text-lg mb-3 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                {user?.email}\n              </p>\n              <div className=\"flex flex-wrap items-center gap-3 justify-center md:justify-start\">\n                <span className=\"px-4 py-2 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white text-sm font-medium rounded-full\">\n                  {getRoleLabel(profile?.role || 'customer')}\n                </span>\n                <span className={`px-4 py-2 ${darkMode ? 'bg-gray-800 text-gray-300' : 'bg-gray-100 text-gray-700'} text-sm font-medium rounded-full`}>\n                  Membro desde {new Date(profile?.created_at || Date.now()).getFullYear()}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Message */}\n        {message && (\n          <div className={`mb-6 p-4 rounded-lg ${\n            message.type === 'success' \n              ? 'bg-green-500/20 border border-green-500/50' \n              : 'bg-red-500/20 border border-red-500/50'\n          }`}>\n            <p className={message.type === 'success' ? 'text-green-500' : 'text-red-500'}>\n              {message.text}\n            </p>\n          </div>\n        )}\n\n        {/* Tabs */}\n        <div className=\"flex flex-wrap gap-2 mb-8\">\n          {[\n            { id: 'profile', icon: 'ri-user-settings-line', label: 'Perfil' },\n            { id: 'orders', icon: 'ri-file-list-line', label: 'Pedidos' },\n            { id: 'wishlist', icon: 'ri-heart-line', label: 'Lista de Desejos' },\n            { id: 'security', icon: 'ri-shield-check-line', label: 'Segurança' }\n          ].map(tab => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`px-6 py-3 rounded-lg font-medium transition-all ${\n                activeTab === tab.id\n                  ? 'bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white shadow-lg'\n                  : darkMode\n                  ? 'bg-gray-900 text-gray-300 hover:bg-gray-800'\n                  : 'bg-white text-gray-700 hover:bg-gray-100'\n              }`}\n            >\n              <i className={`${tab.icon} mr-2`}></i>\n              {tab.label}\n            </button>\n          ))}\n        </div>\n\n        {/* Content */}\n        <div className={`${darkMode ? 'bg-gray-900' : 'bg-white'} rounded-2xl shadow-xl p-8`}>\n          {/* Profile Tab */}\n          {activeTab === 'profile' && (\n            <div className=\"space-y-6\">\n              <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'} mb-6`}>\n                Informações Pessoais\n              </h2>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\n                    Nome Completo\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.full_name}\n                    onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\n                    className={`w-full px-4 py-3 rounded-lg ${\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\n                  />\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\n                    Telefone\n                  </label>\n                  <input\n                    type=\"tel\"\n                    value={formData.phone}\n                    onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                    className={`w-full px-4 py-3 rounded-lg ${\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\n                  />\n                </div>\n\n                <div className=\"md:col-span-2\">\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\n                    Morada\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.address}\n                    onChange={(e) => setFormData({ ...formData, address: e.target.value })}\n                    className={`w-full px-4 py-3 rounded-lg ${\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\n                  />\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\n                    Cidade\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.city}\n                    onChange={(e) => setFormData({ ...formData, city: e.target.value })}\n                    className={`w-full px-4 py-3 rounded-lg ${\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\n                  />\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\n                    País\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.country}\n                    onChange={(e) => setFormData({ ...formData, country: e.target.value })}\n                    className={`w-full px-4 py-3 rounded-lg ${\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\n                  />\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\n                    Código Postal\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.postal_code}\n                    onChange={(e) => setFormData({ ...formData, postal_code: e.target.value })}\n                    className={`w-full px-4 py-3 rounded-lg ${\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\n                  />\n                </div>\n\n                <div className=\"md:col-span-2\">\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\n                    Bio\n                  </label>\n                  <textarea\n                    value={formData.bio}\n                    onChange={(e) => setFormData({ ...formData, bio: e.target.value })}\n                    rows={4}\n                    className={`w-full px-4 py-3 rounded-lg ${\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors resize-none`}\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex justify-end gap-4 pt-6 border-t border-gray-700\">\n                <button\n                  onClick={() => navigate(-1)}\n                  className={`px-6 py-3 rounded-lg font-medium ${\n                    darkMode ? 'bg-gray-800 text-white hover:bg-gray-700' : 'bg-gray-100 text-gray-900 hover:bg-gray-200'\n                  } transition-colors`}\n                >\n                  Cancelar\n                </button>\n                <button\n                  onClick={handleSaveProfile}\n                  disabled={saving}\n                  className=\"px-6 py-3 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white font-medium rounded-lg hover:shadow-lg transition-all disabled:opacity-50\"\n                >\n                  {saving ? 'A guardar...' : 'Guardar Alterações'}\n                </button>\n              </div>\n            </div>\n          )}\n\n          {/* Orders Tab */}\n          {activeTab === 'orders' && (\n            <div className=\"space-y-6\">\n              <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'} mb-6`}>\n                Meus Pedidos\n              </h2>\n\n              {orders.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <i className=\"ri-file-list-line text-6xl text-gray-500 mb-4\"></i>\n                  <p className=\"text-gray-500 text-lg\">Ainda não tem pedidos</p>\n                  <button\n                    onClick={() => navigate('/category')}\n                    className=\"mt-6 px-6 py-3 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white font-medium rounded-lg hover:shadow-lg transition-all\"\n                  >\n                    Começar a Comprar\n                  </button>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {orders.map(order => (\n                    <div\n                      key={order.id}\n                      className={`p-6 rounded-lg border ${\n                        darkMode ? 'bg-gray-800 border-gray-700' : 'bg-gray-50 border-gray-200'\n                      }`}\n                    >\n                      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4\">\n                        <div>\n                          <h3 className={`text-lg font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\n                            Pedido #{order.order_number}\n                          </h3>\n                          <p className=\"text-sm text-gray-500\">\n                            {new Date(order.created_at).toLocaleDateString('pt-PT', {\n                              day: '2-digit',\n                              month: 'long',\n                              year: 'numeric'\n                            })}\n                          </p>\n                        </div>\n                        <div className=\"flex items-center gap-4\">\n                          <span className={`px-4 py-2 ${getStatusColor(order.status)} text-white text-sm font-medium rounded-lg`}>\n                            {getStatusLabel(order.status)}\n                          </span>\n                          <span className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\n                            €{order.total.toFixed(2)}\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n                        <i className=\"ri-shopping-bag-line\"></i>\n                        <span>{order.items?.length || 0} {order.items?.length === 1 ? 'item' : 'itens'}</span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Wishlist Tab */}\n          {activeTab === 'wishlist' && (\n            <div className=\"space-y-6\">\n              <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'} mb-6`}>\n                Lista de Desejos\n              </h2>\n\n              {wishlist.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <i className=\"ri-heart-line text-6xl text-gray-500 mb-4\"></i>\n                  <p className=\"text-gray-500 text-lg\">Sua lista de desejos está vazia</p>\n                  <button\n                    onClick={() => navigate('/category')}\n                    className=\"mt-6 px-6 py-3 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white font-medium rounded-lg hover:shadow-lg transition-all\"\n                  >\n                    Explorar Produtos\n                  </button>\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {wishlist.map(item => (\n                    <div\n                      key={item.id}\n                      className={`rounded-lg border ${\n                        darkMode ? 'bg-gray-800 border-gray-700' : 'bg-gray-50 border-gray-200'\n                      } overflow-hidden`}\n                    >\n                      <div className=\"aspect-square bg-gray-700 overflow-hidden\">\n                        <img\n                          src={item.product.image_url || 'https://via.placeholder.com/400'}\n                          alt={item.product.name}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      </div>\n                      <div className=\"p-4\">\n                        <h3 className={`font-bold mb-2 ${darkMode ? 'text-white' : 'text-gray-900'}`}>\n                          {item.product.name}\n                        </h3>\n                        <p className=\"text-2xl font-bold text-[#b62bff] mb-4\">\n                          €{item.product.price.toFixed(2)}\n                        </p>\n                        <div className=\"flex gap-2\">\n                          <button\n                            onClick={() => navigate(`/product/${item.product.id}`)}\n                            className=\"flex-1 px-4 py-2 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white font-medium rounded-lg hover:shadow-lg transition-all\"\n                          >\n                            Ver Produto\n                          </button>\n                          <button\n                            onClick={() => handleRemoveFromWishlist(item.id)}\n                            className={`px-4 py-2 rounded-lg ${\n                              darkMode ? 'bg-gray-700 hover:bg-red-900/20 text-red-400' : 'bg-gray-200 hover:bg-red-50 text-red-600'\n                            } transition-colors`}\n                          >\n                            <i className=\"ri-delete-bin-line\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Security Tab */}\n          {activeTab === 'security' && (\n            <div className=\"space-y-6\">\n              <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'} mb-6`}>\n                Segurança\n              </h2>\n\n              <div className=\"max-w-2xl space-y-6\">\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\n                    Senha Atual\n                  </label>\n                  <input\n                    type=\"password\"\n                    value={passwordData.current}\n                    onChange={(e) => setPasswordData({ ...passwordData, current: e.target.value })}\n                    className={`w-full px-4 py-3 rounded-lg ${\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\n                  />\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\n                    Nova Senha\n                  </label>\n                  <input\n                    type=\"password\"\n                    value={passwordData.new}\n                    onChange={(e) => setPasswordData({ ...passwordData, new: e.target.value })}\n                    className={`w-full px-4 py-3 rounded-lg ${\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\n                  />\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\n                    Confirmar Nova Senha\n                  </label>\n                  <input\n                    type=\"password\"\n                    value={passwordData.confirm}\n                    onChange={(e) => setPasswordData({ ...passwordData, confirm: e.target.value })}\n                    className={`w-full px-4 py-3 rounded-lg ${\n                      darkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-gray-50 text-gray-900 border-gray-200'\n                    } border focus:border-[#b62bff] focus:outline-none transition-colors`}\n                  />\n                </div>\n\n                <div className=\"flex justify-end gap-4 pt-6 border-t border-gray-700\">\n                  <button\n                    onClick={() => setPasswordData({ current: '', new: '', confirm: '' })}\n                    className={`px-6 py-3 rounded-lg font-medium ${\n                      darkMode ? 'bg-gray-800 text-white hover:bg-gray-700' : 'bg-gray-100 text-gray-900 hover:bg-gray-200'\n                    } transition-colors`}\n                  >\n                    Cancelar\n                  </button>\n                  <button\n                    onClick={handleChangePassword}\n                    disabled={saving || !passwordData.new || !passwordData.confirm}\n                    className=\"px-6 py-3 bg-gradient-to-r from-[#b62bff] to-[#ff6a00] text-white font-medium rounded-lg hover:shadow-lg transition-all disabled:opacity-50\"\n                  >\n                    {saving ? 'A alterar...' : 'Alterar Senha'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["ProfilePage","user","signOut","useAuth","darkMode","useTheme","navigate","useNavigate","activeTab","setActiveTab","useState","profile","setProfile","orders","setOrders","wishlist","setWishlist","loading","setLoading","saving","setSaving","message","setMessage","formData","setFormData","passwordData","setPasswordData","avatarFile","setAvatarFile","avatarPreview","setAvatarPreview","useEffect","fetchUserData","profileData","profileError","supabase","ordersData","ordersError","wishlistData","wishlistError","item","error","uploadAvatar","fileExt","filePath","uploadError","data","handleSaveProfile","avatar_url","uploadedUrl","handleChangePassword","handleRemoveFromWishlist","wishlistId","getRoleLabel","role","getStatusColor","status","getStatusLabel","jsx","jsxs","tab","e","order"],"mappings":"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"}