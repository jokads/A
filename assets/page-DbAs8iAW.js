import{r as n,d as u,j as e}from"./index-DLj1qXuc.js";function p(){const[o,l]=n.useState(!1),[d,t]=n.useState(""),[c,m]=n.useState(""),i=u(),h=async()=>{l(!0),t(""),m("");try{const a="joka2dms@gmail.com",s="ThugParadise616#",g="Joka Admin",x="https://vxlhwibkbptkthrnznqi.supabase.co",r=await(await fetch(`${x}/functions/v1/create-admin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:s,fullName:g})})).json();if(!r.success){if(r.error?.includes("already registered")||r.error?.includes("já existe")){t(`✅ Usuário já configurado!

E-mail: ${a}
Senha: ${s}

Faça login para acessar o dashboard.`),setTimeout(()=>i("/login"),3e3);return}throw new Error(r.error||"Erro ao criar administrador")}t(`✅ ${r.message}!

E-mail: ${a}
Senha: ${s}

Faça login para acessar o dashboard.`),setTimeout(()=>i("/login"),3e3)}catch(a){console.error("Erro ao criar administrador:",a);let s=a.message||"Erro desconhecido ao criar administrador";s.includes("already registered")||s.includes("já existe")||s.includes("atualizado")?(t(`✅ Usuário já existe e está configurado!

E-mail: joka2dms@gmail.com
Senha: ThugParadise616#

Faça login para acessar o dashboard.`),setTimeout(()=>i("/login"),3e3)):m(`❌ ${s}`)}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-md w-full bg-gray-800 rounded-2xl shadow-2xl p-8 border border-yellow-500/20",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"ri-admin-line text-4xl text-black"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Configuração Inicial"}),e.jsx("p",{className:"text-gray-400",children:"Crie o usuário administrador do sistema"})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6 mb-6 border border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Credenciais do Admin:"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"E-mail:"}),e.jsx("span",{className:"text-white font-mono",children:"joka2dms@gmail.com"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Senha:"}),e.jsx("span",{className:"text-white font-mono",children:"ThugParadise616#"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Permissão:"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Superadmin"})]})]})]}),d&&e.jsx("div",{className:"bg-green-500/10 border border-green-500/50 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-green-400 text-sm whitespace-pre-line",children:d})}),c&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-400 text-sm",children:c})}),e.jsx("button",{onClick:h,disabled:o,className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-semibold py-4 rounded-lg hover:from-yellow-500 hover:to-yellow-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 whitespace-nowrap",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Criando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-user-add-line text-xl"}),e.jsx("span",{children:"Criar Administrador"})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>i("/login"),className:"text-gray-400 hover:text-yellow-400 transition-colors text-sm whitespace-nowrap",children:"Já tenho uma conta → Fazer Login"})})]})})}export{p as default};
//# sourceMappingURL=page-DbAs8iAW.js.map
